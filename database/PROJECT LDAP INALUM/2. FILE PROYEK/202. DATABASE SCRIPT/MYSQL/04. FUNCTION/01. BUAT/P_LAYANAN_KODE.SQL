CREATE OR REPLACE FUNCTION p_layanan_kode(PREFIX VARCHAR)
  RETURNS character varying AS
$BODY$
DECLARE

CACAH NUMERIC;
KODE VARCHAR;

BEGIN
  SELECT TO_CHAR(NEXTVAL('S_D_LAYANAN'),'99999999999999') INTO KODE
			FROM EKSEKUSI;

  KODE := CONCAT(PREFIX||TRIM(KODE));
  RETURN KODE;

END;
$BODY$
  LANGUAGE plpgsql VOLATILE;