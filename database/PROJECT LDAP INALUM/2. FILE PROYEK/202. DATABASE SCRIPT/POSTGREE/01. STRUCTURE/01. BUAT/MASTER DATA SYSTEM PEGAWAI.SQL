DROP SCHEMA IF EXISTS PEGAWAI CASCADE;
CREATE SCHEMA PEGAWAI;

DROP TYPE IF EXISTS PEGAWAI.GENDER;
CREATE TYPE PEGAWAI.GENDER AS ENUM('L','P');

DROP TYPE IF EXISTS PEGAWAI.STATUS;
CREATE TYPE PEGAWAI.STATUS AS ENUM('A','N');

/**
* Nomor : 1 
*/
CREATE TABLE PEGAWAI.MD_AGAMA(
    KD_AGAMA	VARCHAR	(5),
	NM_AGAMA	VARCHAR	(25),
	STATUS	    STATUS DEFAULT 'A',
	IS_DELETED 	BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_AGAMA)
);

/**
* Nomor : 2 
*/
CREATE TABLE PEGAWAI.MD_USER(
    UID_USER	    VARCHAR	(50),
	NAMECODE	    VARCHAR	(10),
	NIP	            VARCHAR	(10),
	NAMA	        VARCHAR	(250),
	GELAR_DEPAN	    VARCHAR	(25),
	GELAR_BELAKANG	VARCHAR	(25),
	NIK	            VARCHAR	(16),
	TANGGAL_LAHIR	DATE,
	TEMPAT_LAHIR	VARCHAR	(200),
	GENDER	        GENDER,
	KD_AGAMA	    VARCHAR	(5),
	PASSWORD	    VARCHAR	(50),
	IS_DELETED 		BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (UID_USER),
    CONSTRAINT FK_MD_USER_KD_AGAMA FOREIGN KEY (KD_AGAMA) REFERENCES MD_AGAMA(KD_AGAMA) ON UPDATE CASCADE ON DELETE RESTRICT
);

/**
* Nomor : 3 
*/
CREATE TABLE PEGAWAI.MD_JABATAN(
    KD_JABATAN	    VARCHAR	(10),
    ALIAS_JABATAN	VARCHAR	(10),
    NM_JABATAN	    VARCHAR	(200),
    STATUS	        STATUS DEFAULT 'A',
	IS_DELETED 		BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_JABATAN)
);

/**
* Nomor : 4 
*/
CREATE TABLE PEGAWAI.MD_DIREKSI(
    KD_DIREKSI	    VARCHAR	(10),
    ALIAS_DIREKSI	VARCHAR	(50),
    NM_DIREKSI	    VARCHAR	(200),
    STATUS	        STATUS DEFAULT 'A',
	IS_DELETED 		BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_DIREKSI)
);

/**
* Nomor : 5 
*/
CREATE TABLE PEGAWAI.MD_DEPARTEMEN(		
    KD_DEPARTEMEN	    VARCHAR	(10),
    KD_DIREKSI	        VARCHAR	(10),
    ALIAS_DEPARTEMEN	VARCHAR	(50),
    NM_DEPARTEMEN	    VARCHAR	(200),
    STATUS	            STATUS DEFAULT 'A',
	IS_DELETED 		    BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_DEPARTEMEN),
    CONSTRAINT FK_MD_DEPARTEMEN_KD_DIREKSI FOREIGN KEY (KD_DIREKSI) REFERENCES MD_DIREKSI(KD_DIREKSI) ON UPDATE CASCADE ON DELETE RESTRICT
);

/**
* Nomor : 6 
*/
CREATE TABLE PEGAWAI.MD_SEKSI(
    KD_SEKSI	    VARCHAR	(10),
    KD_DEPARTEMEN	VARCHAR	(10),
    ALIAS_SEKSI	    VARCHAR	(50),
    NM_SEKSI	    VARCHAR	(200),
    STATUS	        STATUS DEFAULT 'A',
	IS_DELETED 		BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_SEKSI),
    CONSTRAINT FK_MD_SEKSI_KD_DEPARTEMEN FOREIGN KEY (KD_DEPARTEMEN) REFERENCES MD_DEPARTEMEN(KD_DEPARTEMEN) ON UPDATE CASCADE ON DELETE RESTRICT
);

/**
* Nomor : 7 
*/
CREATE TABLE PEGAWAI.MD_PANGKAT(
    KD_PANGKAT	VARCHAR	(10),
    NM_PANGKAT	VARCHAR	(200),
    STATUS	    STATUS DEFAULT 'A',
    KETERANGAN	VARCHAR	(1000),
	IS_DELETED 	BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_PANGKAT)
);

/**
* Nomor : 8 
*/
CREATE TABLE PEGAWAI.MD_BOD(
    KD_BOD	    VARCHAR	(10),
    NM_BOD	    VARCHAR	(200),
    STATUS	    STATUS DEFAULT 'A',
    KETERANGAN	VARCHAR	(1000),
	IS_DELETED 	BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_BOD)
);

/**
* Nomor : 9 
*/
CREATE TABLE PEGAWAI.MD_KELOMPOK_TUGAS(
    KD_KELOMPOK_TUGAS	VARCHAR	(10),
    NM_KELOMPOK_TUGAS	VARCHAR	(200),
    STATUS	            STATUS DEFAULT 'A',
    KETERANGAN	        VARCHAR	(1000),
	IS_DELETED 		    BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_KELOMPOK_TUGAS)
);

/**
* Nomor : 10 
*/
CREATE TABLE PEGAWAI.MD_JENJANG(
    KD_JENJANG	VARCHAR	(25),
    NM_JENJANG	VARCHAR	(100),
    STATUS	    STATUS DEFAULT 'A',
    KETERANGAN	VARCHAR	(1000),
	IS_DELETED 	BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_JENJANG)
);

/**
* Nomor : 11 
*/
CREATE TABLE PEGAWAI.MD_JURUSAN(
    KD_JURUSAN	VARCHAR	(25),
    KD_JENJANG	VARCHAR	(25),
    NM_JURUSAN	VARCHAR	(250),
    STATUS	    STATUS DEFAULT 'A',
    KETERANGAN	VARCHAR	(1000),
	IS_DELETED 	BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_JURUSAN),
    CONSTRAINT FK_MD_JURUSAN_KD_JENJANG FOREIGN KEY (KD_JENJANG) REFERENCES MD_JENJANG(KD_JENJANG) ON UPDATE CASCADE ON DELETE RESTRICT
);

/**
* Nomor : 12 
*/
CREATE TABLE PEGAWAI.MD_STATUS_NIKAH(
    KD_STATUS_NIKAH	VARCHAR	(5),
    NM_STATUS_NIKAH	VARCHAR	(20),
    STATUS	        STATUS DEFAULT 'A',
    KETERANGAN	    VARCHAR	(1000),
	IS_DELETED 		BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_STATUS_NIKAH)
);

/**
* Nomor : 13 
*/
CREATE TABLE PEGAWAI.MD_STATUS_PEGAWAI(
    KD_STATUS_PEGAWAI	VARCHAR	(10),
    NM_STATUS_PEGAWAI	VARCHAR	(25),
    STATUS	            STATUS DEFAULT 'A',
    KETERANGAN	        VARCHAR	(1000),
	IS_DELETED 		    BOOLEAN DEFAULT FALSE,

    PRIMARY KEY (KD_STATUS_PEGAWAI)
);
